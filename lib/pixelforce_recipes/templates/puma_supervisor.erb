[program:<%= fetch(:application) %>]
user=<%= fetch(:user) %>
environment=HOME="/home/<%= fetch(:user) %>",USER="<%= fetch(:user) %>"
directory=<%= fetch(:deploy_to) %>/current
; puma configuration including log depend on capistrano-puma which use shared/puma.rb as default
command=/home/<%= fetch(:user) %>/.rvm/bin/rvm <%= fetch(:rvm_ruby_version, '2.4.7') %> do bundle exec puma -C <%= fetch(:deploy_to) %>/shared/puma.rb -e <%= fetch(:rails_env) %>
autostart=<%= fetch(:autostart, 'true') %>
autorestart=<%= fetch(:autorestart, 'true') %>
startsecs=5
startretries=3
stderr_logfile=<%= fetch(:deploy_to) %>/shared/log/puma.error.log
stdout_logfile=<%= fetch(:deploy_to) %>/shared/log/puma.access.log
stdout_logfile_maxbytes=<%= fetch(:logfile_maxbytes, '5GB') %>
stdout_logfile_backups=<%= fetch(:logfile_backups, '10') %>
